(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(t,e,n){t.exports=n(53)},32:function(t,e,n){},53:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),r=n(20),l=n.n(r),o=(n(32),n(3)),i=n(1),d=n(9),u=n(4),f=n(5);function s(){var t=Object(u.a)(["\n  margin-top: 15px;\n  border-collapse: collapse;\n  border: 1px solid #aaa;\n  > th {\n    vertical-align: baseline;\n    padding: 5px 15px 5px 6px;\n    background-color: #3f3f3f;\n    border: 1px solid #3f3f3f;\n    text-align: left;\n    color: #fff;\n  }\n  > tr td {\n    vertical-align: text-top;\n    padding: 6px 15px 6px 6px;\n    border: 1px solid #aaa;\n  }\n  & > tr:nth-child(odd) {\n    background-color: #f5f5f5;\n  }\n  & > td:nth-child(even) {\n    background-color: #fff;\n  }\n"]);return s=function(){return t},t}var b=f.a.table(s());function m(t){return c.a.createElement(b,null,c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"\u540d\u79f0"),c.a.createElement("th",null,"\u63cf\u8ff0"),c.a.createElement("th",null,"\u5e93\u5b58"),c.a.createElement("th",null,"\u64cd\u4f5c"))),t.data&&t.data.map(function(e,n){return c.a.createElement("tr",null,c.a.createElement("td",null,e.name),c.a.createElement("td",null,e.describe),c.a.createElement("td",null,e.stock),c.a.createElement("td",null,c.a.createElement("button",{onClick:function(){return t.onClick(e)},disabled:e.stock<=0},"\u52a0\u5165\u8d2d\u7269\u8f66")))}))}function g(){var t=Object(u.a)(["\n  margin-top: 15px;\n  border-collapse: collapse;\n  border: 1px solid #aaa;\n  > th {\n    vertical-align: baseline;\n    padding: 5px 15px 5px 6px;\n    background-color: #3f3f3f;\n    border: 1px solid #3f3f3f;\n    text-align: left;\n    color: #fff;\n  }\n  > tr td {\n    vertical-align: text-top;\n    padding: 6px 15px 6px 6px;\n    border: 1px solid #aaa;\n  }\n  & > tr:nth-child(odd) {\n    background-color: #f5f5f5;\n  }\n  & > td:nth-child(even) {\n    background-color: #fff;\n  }\n"]);return g=function(){return t},t}var k=f.a.table(g());function p(t){return c.a.createElement(k,null,c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"\u540d\u79f0"),c.a.createElement("th",null,"\u63cf\u8ff0"),c.a.createElement("th",null,"\u4ef6\u6570"),c.a.createElement("th",null,"\u64cd\u4f5c"))),t.selected&&t.selected.map(function(e,n){return c.a.createElement("tr",null,c.a.createElement("td",null,e.name),c.a.createElement("td",null,e.describe),c.a.createElement("td",null,c.a.createElement("button",{onClick:function(){return t.onAdd(e,e.stock)},disabled:0===e.currentStock},"+"),e.stock,c.a.createElement("button",{onClick:function(){return t.onReduce(e,e.stock)},disabled:1===e.stock},"-")),c.a.createElement("td",null,c.a.createElement("button",{onClick:function(){return t.onRemove(e,e.stock)}},"\u79fb\u9664")))}))}var O=n(23),v=n.n(O);function x(){var t=Object(u.a)(["\n  display: flex;\n  justify-content: flex-start;\n  > table {\n    margin: 0 10px;\n  }\n"]);return x=function(){return t},t}var h=f.a.div(x());var j=function(){var t=Object(a.useState)(),e=Object(d.a)(t,2),n=e[0],r=e[1],l=Object(a.useState)(),u=Object(d.a)(l,2),f=u[0],s=u[1];return Object(a.useEffect)(function(){var t=localStorage.getItem("left")&&JSON.parse(localStorage.getItem("left")||""),e=localStorage.getItem("right")&&JSON.parse(localStorage.getItem("right")||"");v.a.get("/oa/cart").then(function(e){return r(t||e.data)}),s(e)},[]),c.a.createElement(h,null,"\u5546\u54c1\u5217\u8868",c.a.createElement(m,{data:n,onClick:function(t){var e=n.findIndex(function(e){return e.id===t.id});if(-1!==e){var a=[].concat(Object(i.a)(n.slice(0,e)),[Object(o.a)({},t,{stock:t.stock-1})],Object(i.a)(n.slice(e+1)));r(a),localStorage.setItem("left",JSON.stringify(a))}if(f&&f.some(function(e){if(e.id===t.id)return!0})){var c=f.findIndex(function(e){return e.id===t.id}),l=f.filter(function(e){return e.id===t.id});if(-1!==c){var d=[].concat(Object(i.a)(f.slice(0,c)),[Object(o.a)({},t,{stock:l[0].stock+1,currentStock:t.stock-1})],Object(i.a)(f.slice(c+1)));s(d),localStorage.setItem("right",JSON.stringify(d))}}else{var u=f?[].concat(Object(i.a)(f),[Object(o.a)({},t,{stock:1,currentStock:t.stock-1})]):[Object(o.a)({},t,{stock:1,currentStock:t.stock-1})];s(u),localStorage.setItem("right",JSON.stringify(u))}}}),"\u8d2d\u7269\u8f66",c.a.createElement(p,{data:n,selected:f,onAdd:function(t,e){var a=n.findIndex(function(e){return e.id===t.id}),c=n.filter(function(e){return e.id===t.id});if(-1!==a){var l=[].concat(Object(i.a)(n.slice(0,a)),[Object(o.a)({},t,{stock:c[0].stock-1})],Object(i.a)(n.slice(a+1)));r(l),localStorage.setItem("left",JSON.stringify(l))}var d=f.findIndex(function(e){return e.id===t.id});if(-1!==d){var u=[].concat(Object(i.a)(f.slice(0,d)),[Object(o.a)({},t,{stock:e+1,currentStock:t.currentStock-1})],Object(i.a)(f.slice(d+1)));s(u),localStorage.setItem("right",JSON.stringify(u))}},onReduce:function(t,e){var a=n.findIndex(function(e){return e.id===t.id}),c=n.filter(function(e){return e.id===t.id});if(-1!==a){var l=[].concat(Object(i.a)(n.slice(0,a)),[Object(o.a)({},t,{stock:c[0].stock+1})],Object(i.a)(n.slice(a+1)));r(l),localStorage.setItem("left",JSON.stringify(l))}var d=f.findIndex(function(e){return e.id===t.id});if(-1!==d){var u=[].concat(Object(i.a)(f.slice(0,d)),[Object(o.a)({},t,{stock:e-1,currentStock:t.currentStock+1})],Object(i.a)(f.slice(d+1)));s(u),localStorage.setItem("right",JSON.stringify(u))}},onRemove:function(t,e){var a=n.findIndex(function(e){return e.id===t.id}),c=n.filter(function(e){return e.id===t.id});if(-1!==a){var l=[].concat(Object(i.a)(n.slice(0,a)),[Object(o.a)({},t,{stock:c[0].stock+e})],Object(i.a)(n.slice(a+1)));r(l),localStorage.setItem("left",JSON.stringify(l))}var d=f.findIndex(function(e){return e.id===t.id});if(-1!==d){var u=[].concat(Object(i.a)(f.slice(0,d)),Object(i.a)(f.slice(d+1)));s(u),localStorage.setItem("right",JSON.stringify(u))}}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[26,1,2]]]);
//# sourceMappingURL=main.ba3ae92e.chunk.js.map